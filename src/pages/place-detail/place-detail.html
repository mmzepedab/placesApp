<!--
  Generated template for the PlaceDetailPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title>Place Detail</ion-title>
    <ion-buttons end>
      <button ion-button icon-only (click)="showPlaceOptions()">
        <ion-icon name="md-more"></ion-icon>
      </button>
    </ion-buttons>
  </ion-navbar>

</ion-header>


<ion-content class="cards-bg">
  <ion-card>

  <ion-item>
    <ion-avatar item-start>
      <img src="{{ place?.image_thumbnail }}">
    </ion-avatar>
    <h2>{{ place?.name }}</h2>
    <p>Followers: {{ subscriber_count }}</p>

  </ion-item>

  <img src="{{ place?.image_cover }}">

  <ion-card-content style="white-space: pre-line;">
    <p>{{ place?.address }}</p>
  </ion-card-content>

  <ion-row no-padding>
    <ion-col col-4>
      <button ion-button icon-left clear small (click)="subscribeUserToPlace(place?.id)" [color]="!is_subscribed ? 'primary' : 'disabled'">
        <ion-icon name="md-heart"></ion-icon>{{ subscribe_button_text }}
      </button>
    </ion-col>
    <ion-col col-4 text-right>
      <button ion-button icon-left clear small (click)="navigatePlaceOffers(place?.id)">
        <ion-icon md="md-pricetag"></ion-icon>
        <div>{{ place?.offers.length }} Offers</div>
      </button>
    </ion-col>
    <ion-col col-4 center text-center>
      <button ion-button clear small icon-start (click)="navigatePlaceOffers(place?.id)">
        <ion-icon name="share-alt"></ion-icon>
        <div>Share</div>
      </button>
    </ion-col>
  </ion-row>

</ion-card>


<ion-card>
  <ion-card-header>
    Actions
  </ion-card-header>

  <ion-list>
    <button ion-item (click)="navigatePlaceOffers(place?.id)">
      <ion-icon md="md-pricetag" item-start></ion-icon>
      Offers
      <ion-badge item-end>{{ place?.offers.length }}</ion-badge>
    </button>

    <button ion-item (click)="makeCall(place?.phone_number)">
      <ion-icon name="call" item-start></ion-icon>
      Call
    </button>

    <button ion-item>
      <ion-icon name="map" item-start></ion-icon>
      Location
    </button>

    <button ion-item>
      <ion-icon name="logo-facebook" item-start></ion-icon>
      Facebook
    </button>

    <button ion-item>
      <ion-icon name="mail" item-start></ion-icon>
      Send Email
    </button>

  </ion-list>
</ion-card>



</ion-content>
